##################################################
#
# STRATEGIC EFFECTS - A.K.A. "TRIGGERED MODIFIERS"
#
##################################################

# Player isn't picking an ambition
# We probably need this... Since foci have negative effect too.
player_no_ambition = {
	potential = {
		is_ruler = yes
	}

	trigger = {
		is_ruler = yes
		OR = {
			NOT = { has_character_flag = obj_aborted }
			had_character_flag = {
				flag = obj_aborted
				days = 1095
			}
		}
		has_regent = no
		is_adult = yes
		ai = no
		NOT = { has_ambition = yes }
	}

	icon = 25

	monthly_character_prestige = -1
}

#Faction moods
faction_court_mood_happy = {
	potential = {
		is_ruler = yes
		independent = no
	}
	trigger = {
		in_faction = faction_court
		liege = { has_character_flag = faction_court_happy }
	}
	icon = 49
}

faction_court_mood_content = {
	potential = {
		is_ruler = yes
		independent = no
	}
	trigger = {
		in_faction = faction_court
		liege = {
			NOR = {
				has_character_flag = faction_court_happy
				has_character_flag = faction_court_unhappy
				has_character_flag = faction_court_angry
			}
		}
	}
	icon = 50
}

faction_court_mood_unhappy = {
	potential = {
		is_ruler = yes
		independent = no
	}
	trigger = {
		in_faction = faction_court
		liege = { has_character_flag = faction_court_unhappy }
	}
	icon = 51
}

faction_court_mood_angry = {
	potential = {
		is_ruler = yes
		independent = no
	}
	trigger = {
		in_faction = faction_court
		liege = { has_character_flag = faction_court_angry }
	}
	icon = 52
}

faction_prosperity_mood_happy = {
	potential = {
		is_ruler = yes
		independent = no
	}
	trigger = {
		in_faction = faction_prosperity
		liege = { has_character_flag = faction_prosperity_happy }
	}
	icon = 53
}

faction_prosperity_mood_content = {
	potential = {
		is_ruler = yes
		independent = no
	}
	trigger = {
		in_faction = faction_prosperity
		liege = {
			NOR = {
				has_character_flag = faction_prosperity_happy
				has_character_flag = faction_prosperity_unhappy
				has_character_flag = faction_prosperity_angry
			}
		}
	}
	icon = 54
}

faction_prosperity_mood_unhappy = {
	potential = {
		is_ruler = yes
		independent = no
	}
	trigger = {
		in_faction = faction_prosperity
		liege = { has_character_flag = faction_prosperity_unhappy }
	}
	icon = 55
}

faction_prosperity_mood_angry = {
	potential = {
		is_ruler = yes
		independent = no
	}
	trigger = {
		in_faction = faction_prosperity
		liege = { has_character_flag = faction_prosperity_angry }
	}
	icon = 56
}

faction_glory_mood_happy = {
	potential = {
		is_ruler = yes
		independent = no
	}
	trigger = {
		in_faction = faction_glory
		liege = { has_character_flag = faction_glory_happy }
	}
	icon = 45
}

faction_glory_mood_content = {
	potential = {
		is_ruler = yes
		independent = no
	}
	trigger = {
		in_faction = faction_glory
		liege = {
			NOR = {
				has_character_flag = faction_glory_happy
				has_character_flag = faction_glory_unhappy
				has_character_flag = faction_glory_angry
			}
		}
	}
	icon = 46
}

faction_glory_mood_unhappy = {
	potential = {
		is_ruler = yes
		independent = no
	}
	trigger = {
		in_faction = faction_glory
		liege = { has_character_flag = faction_glory_unhappy }
	}
	icon = 47
}

faction_glory_mood_angry = {
	potential = {
		is_ruler = yes
		independent = no
	}
	trigger = {
		in_faction = faction_glory
		liege = { has_character_flag = faction_glory_angry }
	}
	icon = 48
}

faction_tradition_mood_happy = {
	potential = {
		is_ruler = yes
		independent = no
	}
	trigger = {
		in_faction = faction_tradition
		liege = { has_character_flag = faction_tradition_happy }
	}
	icon = 57
}

faction_tradition_mood_content = {
	potential = {
		is_ruler = yes
		independent = no
	}
	trigger = {
		in_faction = faction_tradition
		liege = {
			NOR = {
				has_character_flag = faction_tradition_happy
				has_character_flag = faction_tradition_unhappy
				has_character_flag = faction_tradition_angry
			}
		}
	}
	icon = 58
}

faction_tradition_mood_unhappy = {
	potential = {
		is_ruler = yes
		independent = no
	}
	trigger = {
		in_faction = faction_tradition
		liege = { has_character_flag = faction_tradition_unhappy }
	}
	icon = 59
}

faction_tradition_mood_angry = {
	potential = {
		is_ruler = yes
		independent = no
	}
	trigger = {
		in_faction = faction_tradition
		liege = { has_character_flag = faction_tradition_angry }
	}
	icon = 60
}

overextended_republic = {
	potential = {
		is_ruler = yes
		higher_tier_than = COUNT
	}
	trigger = {
		OR = {
			is_merchant_republic = yes
			is_patrician = yes
		}
		any_realm_title = {
			location = {
				port = yes
				ROOT = {
					capital_scope = {
						distance = {
							where = PREVPREV # Comparing the distance between ROOT's capital and the title in question
							value = 590	#  From  aprox.Venice to East Cyprus and from Venice to Gibraltar
						}	
					}
				}			
			}
			tier = BARON
			is_republic = yes # Cities only
		}
	}
	icon = 22
	global_tax_modifier = -0.2
}

