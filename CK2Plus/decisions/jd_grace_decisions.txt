###GRACE INTERACTION DECISIONS FOR CHINA###

#Add the decisions in a nice order which will make sense in the menu! For example, ranked by cost/reward.


#PAYING TRIBUTE DECISIONS (GAIN GRACE)
offmap_decisions = {

	chinese_grace_send_gift = {
		only_playable = yes
        give_decision = yes
		ai_check_interval = 12

        potential = {
			is_offmap_tag = offmap_china
		}

		from_potential = {
			has_dlc = "Jade Dragon"
			mercenary = no
			holy_order = no
			OR = {
				ai = no
				prisoner = no	
				offmap_china = {
					governor = {
						NOT = { war_with = PREVPREV }
					}
				}
			}
		}

		allow = {
			FROM = {
				show_scope_change = no
				prisoner = no
				scaled_wealth = { value = 4 min = 500 }
				custom_tooltip = {
					text = chinese_grace_send_gift_allow_tt 
					NOT = { has_character_modifier = chinese_grace_send_gift_timer }
				}
			}
			# china_offmap_decisions_enabled_trigger = yes #leave in please, to be used if the tooltip for china_offmap_tribute_decisions_enabled_trigger changes and we need to reference things uniquely again
			china_offmap_tribute_decisions_enabled_trigger = yes
		}

		effect = {
			FROM = {
				scaled_wealth = { value = -4 min = -500 } #If this changes the ai chances should probably be adjusted
				hidden_effect = {
					add_character_modifier = {
						hidden = yes
						name = chinese_grace_send_gift_timer
						years = 15 #Change chinese_grace_send_gift_allow_tt if this number changes
					} 
				}
				tooltip = {
					if = {
						limit = {
							liked_by_offmap = {
								type = offmap_china
								context = wealth
							}
							NOT = {
								disliked_by_offmap = {
									type = offmap_china
									context = wealth
								}
							}
						}
						add_offmap_currency = {
							offmap = offmap_china
							value = 300
						}
						e_china_west_governor = {
							offmap_power = {
								show_scope_change = no
								custom_tooltip = { text = likes_tt }
							}
						}
					}
					if = {
						limit = {
							disliked_by_offmap = {
								type = offmap_china
								context = wealth
							}
							NOT = {
								liked_by_offmap = {
									type = offmap_china
									context = wealth
								}
							}
						}
						add_offmap_currency = {
							offmap = offmap_china
							value = 75
						}
						e_china_west_governor = {
							offmap_power = {
								show_scope_change = no
								custom_tooltip = { text = dislikes_tt }
							}
						}
					}
					if = {
						limit = {
							liked_by_offmap = {
								type = offmap_china
								context = wealth
							}
							disliked_by_offmap = {
								type = offmap_china
								context = wealth
							}
						}
						add_offmap_currency = {
							offmap = offmap_china
							value = 150
						}
						e_china_west_governor = {
							offmap_power = {
								show_scope_change = no
								custom_tooltip = { text = likes_but_dislikes_tt }
							}
						}
					}
					if = {
						limit = {
							NOR = {
								liked_by_offmap = {
									type = offmap_china
									context = wealth
								}
								disliked_by_offmap = {
									type = offmap_china
									context = wealth
								}
							}
						}
						add_offmap_currency = {
							offmap = offmap_china
							value = 150
						}
					}
				}
			}
			hidden_effect = { offmap_china = { governor = { character_event = { id = JD.20023 } } } }
		}

		revoke_allowed = {
			always = no
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1 # slow down
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { monthly_income = 11 } } #I.e. it would take more than 4 years to collect the 500 gold
			}
		}
	}

	#Offering to become tributary
	chinese_grace_become_tributary = {
		only_independent = yes
        give_decision = yes
		ai_check_interval = 12

        potential = {
			is_offmap_tag = offmap_china
		}
	
		from_potential = {
			independent = yes #TODO_CODE Should not be needed look three lines above
			has_dlc = "Jade Dragon"
			mercenary = no
			holy_order = no
			OR = {
				ai = no
				prisoner = no	
				offmap_china = {
					governor = {
						NOT = { war_with = PREVPREV }
					}
				}
			}
		}

		allow = {
			FROM = {
				show_scope_change = no
				prisoner = no	
				war = no
				OR = {
					custom_tooltip = { #Borders the Western Governate
						text = chinese_grace_become_tributary_allow_governor_neighbor_tt
						any_neighbor_independent_ruler = {
							has_landed_title = e_china_west_governor
						}
					}
					custom_tooltip = { #Borders a Chinese tributary
						text = chinese_grace_become_tributary_allow_tributary_neighbor_tt
						any_neighbor_independent_ruler = {
							suzerain = {
								has_landed_title = e_china_west_governor
							}
						}
					}
					custom_tooltip = { #Borders the eastern edge of the map
						text = chinese_grace_become_tributary_allow_eastern_border_tt
						any_realm_province = { #todo_JD were any border provinces added after sprint 1 (2017-04-18)?
							OR = {
								province_id = 1460 #Baygal
								province_id = 1457 #Khara Khorum
								province_id = 1456 #Ikh Bogd
								province_id = 1408 #Anxi
								province_id = 1448 #Dunhuang
								province_id = 1502 #Fuqi
								province_id = 1504 #Maqen
								province_id = 1506 #Dege
								province_id = 1505 #Markam
								province_id = 1318 #Samatata
							}
						}
					}
					custom_tooltip = { #Within diplo range of China and has a port in India
						text = chinese_grace_become_tributary_allow_india_tt
						any_realm_province = { 
							port = yes 
							region = world_india
						}
					}
				}
				custom_tooltip = {
					text = chinese_grace_become_tributary_allow_suzerain_tt
					NOR = {
						#todo_JD  currently tributary
						is_tributary = yes
					}
				}
				NOT = { tier = emperor }
				custom_tooltip = {
					text = chinese_tribute_become_tributary_cooldown_tt
					NOT = { has_character_modifier = chinese_grace_tributary_timer }
				}
			}
			# china_offmap_decisions_enabled_trigger = yes #leave in please, to be used if the tooltip for china_offmap_tribute_decisions_enabled_trigger changes and we need to reference things uniquely again
			china_offmap_tribute_decisions_enabled_trigger = yes
		}

		effect = {
			make_tributary = {
				who = FROM
				tributary_type = offmap
			}
			hidden_effect = { offmap_china = { governor = { character_event = { id = JD.20027 } } } }
			custom_tooltip = { text = chinese_grace_become_tributary_effect_TT }
			FROM = {
				tooltip = {
					if = {
						limit = {
							liked_by_offmap = {
								type = offmap_china
								context = tributary
							}
							NOT = {
								disliked_by_offmap = {
									type = offmap_china
									context = tributary
								}
							}
						}
						add_offmap_currency = {
							offmap = offmap_china
							value = 400
						}
						e_china_west_governor = {
							offmap_power = {
								show_scope_change = no
								custom_tooltip = { text = likes_tt }
							}
						}
					}
					if = {
						limit = {
							disliked_by_offmap = {
								type = offmap_china
								context = tributary
							}
							NOT = {
								liked_by_offmap = {
									type = offmap_china
									context = tributary
								}
							}
						}
						add_offmap_currency = {
							offmap = offmap_china
							value = 100
						}
						e_china_west_governor = {
							offmap_power = {
								show_scope_change = no
								custom_tooltip = { text = dislikes_tt }
							}
						}
					}
					if = {
						limit = {
							liked_by_offmap = {
								type = offmap_china
								context = tributary
							}
							disliked_by_offmap = {
								type = offmap_china
								context = tributary
							}
						}
						add_offmap_currency = {
							offmap = offmap_china
							value = 200
						}
						e_china_west_governor = {
							offmap_power = {
								show_scope_change = no
								custom_tooltip = { text = likes_but_dislikes_tt }
							}
						}
					}
					if = {
						limit = {
							NOR = {
								liked_by_offmap = {
									type = offmap_china
									context = tributary
								}
								disliked_by_offmap = {
									type = offmap_china
									context = tributary
								}
							}
						}
						add_offmap_currency = {
							offmap = offmap_china
							value = 200
						}
					}
				}
			}
		}

		revoke_allowed = {
			always = no
		}

		ai_will_do = {
			factor = 0
			#modifier = {
			#	factor = 0.01 # slow down
			#}
			#modifier = { realm_levy_diff = { who = FROM value = 2000 } factor = 1.5 }
			#modifier = { realm_levy_diff = { who = FROM value = 5000 } factor = 3 }
		}
	}

	chinese_grace_offer_eunuch = {
		only_playable = yes
        give_decision = yes
		
		third_party_filter = home_court
		ai_third_party_filter = home_court
		third_party = FROM
		ai_check_interval = 36

		potential = {
			is_offmap_tag = offmap_china
		}
	
		from_potential = {
			has_dlc = "Jade Dragon"
			mercenary = no
			holy_order = no
			OR = {
				ai = no
				prisoner = no	
				offmap_china = {
					governor = {
						NOT = { war_with = PREVPREV }
					}
				}
			}
		}

		allow = {
			FROM = {
				show_scope_change = no
				prisoner = no	
				custom_tooltip = {
					text = china_tribute_send_eunuch_cooldown_tt
					NOT = { has_character_modifier = chinese_grace_send_eunuch_timer }
				}
			}
			# china_offmap_decisions_enabled_trigger = yes #leave in please, to be used if the tooltip for china_offmap_tribute_decisions_enabled_trigger changes and we need to reference things uniquely again
			china_offmap_tribute_decisions_enabled_trigger = yes
			custom_tooltip = { #TODO_CD: Move into third party potential once code is in... THIS IS FOR TESTING PURPOSES.
				text = send_eunuch_potential_tt
				hidden_tooltip = { #TODO this should ideally be automatic, added this because empty lists are annoying...
					FROM = {
						any_courtier = {
							NOR = {
								has_character_flag = originated_from_chinese_court
								has_character_flag = eunuch_gift
								is_landed = yes
								is_female = yes
								is_betrothed = yes
								spouse = { always = yes }
								trait = incapable
								trait = inbred
								trait = imbecile
							}
							OR = {
								is_close_relative = ROOT_FROM
								diplomacy = 20
								martial = 20
								stewardship = 20
								intrigue = 20
								learning = 20
								trait = strong
								trait = genius
								trait = quick
								trait = fair
								trait = robust
								trait = shrewd
								trait = architect
								trait = strategist
								trait = scholar
								trait = faqih
							}
							OR = {
								is_adult = yes
								AND = {
									is_close_relative = ROOT_FROM
									age = 12
								}
							}
							is_heir = no						
						}
					}
				}
			}
		}
		
		third_party_potential = {
			FROMFROM = {
				NOR = {
					has_character_flag = originated_from_chinese_court
					has_character_flag = eunuch_gift
					is_landed = yes
					is_female = yes
					is_betrothed = yes
					spouse = { always = yes }
					trait = incapable
					trait = inbred
					trait = imbecile
				}
				OR = {
					is_close_relative = ROOT_FROM
					diplomacy = 20
					martial = 20
					stewardship = 20
					intrigue = 20
					learning = 20
					trait = strong
					trait = genius
					trait = quick
					trait = fair
					trait = robust
					trait = shrewd
					trait = architect
					trait = strategist
					trait = scholar
					trait = faqih
				}
				OR = {
					is_adult = yes
					AND = {
						is_close_relative = ROOT_FROM
						age = 12
					}
				}
				is_heir = no
			}
		}
		
		third_party_allow = {
			FROMFROM = {
				is_ill = no
				NOT = { is_inaccessible_trigger = yes }
			}
		}
		
		third_party_score = {
			factor = 50
			
			additive_modifier = {
				value = 10
				FROMFROM = { 
					show_scope_change = no
					diplomacy = 8					
					hidden_trigger = {
						NOT = { diplomacy = 12 }
					}
				}
			}
			additive_modifier = {
				value = 20
				FROMFROM = { 
					show_scope_change = no
					diplomacy = 12					
					hidden_trigger = {
						NOT = { diplomacy = 16 }
					}
				}
			}
			additive_modifier = {
				value = 30
				FROMFROM = { 
					show_scope_change = no
					diplomacy = 16				
					hidden_trigger = {
						NOT = { diplomacy = 20 }
					}
				}
			}
			additive_modifier = {
				value = 40
				FROMFROM = { 
					show_scope_change = no
					diplomacy = 20
				}
			}
			additive_modifier = {
				value = 10
				FROMFROM = { 
					show_scope_change = no
					martial = 8					
					hidden_trigger = {
						NOT = { martial = 12 }
					}
				}
			}
			additive_modifier = {
				value = 20
				FROMFROM = { 
					show_scope_change = no
					martial = 12					
					hidden_trigger = {
						NOT = { martial = 16 }
					}
				}
			}
			additive_modifier = {
				value = 30
				FROMFROM = {
					show_scope_change = no 
					martial = 16				
					hidden_trigger = {
						NOT = { martial = 20 }
					}
				}
			}
			additive_modifier = {
				value = 40
				FROMFROM = { 
					show_scope_change = no
					martial = 20
				}
			}
			additive_modifier = {
				value = 10
				FROMFROM = { 
					show_scope_change = no
					stewardship = 8					
					hidden_trigger = {
						NOT = { stewardship = 12 }
					}
				}
			}
			additive_modifier = {
				value = 20
				FROMFROM = { 
					show_scope_change = no
					stewardship = 12					
					hidden_trigger = {
						NOT = { stewardship = 16 }
					}
				}
			}
			additive_modifier = {
				value = 30
				FROMFROM = { 
					show_scope_change = no
					stewardship = 16				
					hidden_trigger = {
						NOT = { stewardship = 20 }
					}
				}
			}
			additive_modifier = {
				value = 40
				FROMFROM = { 
					show_scope_change = no
					stewardship = 20
				}
			}
			additive_modifier = {
				value = 10
				FROMFROM = { 
					show_scope_change = no
					intrigue = 8					
					hidden_trigger = {
						NOT = { intrigue = 12 }
					}
				}
			}
			additive_modifier = {
				value = 20
				FROMFROM = { 
					show_scope_change = no
					intrigue = 12					
					hidden_trigger = {
						NOT = { intrigue = 16 }
					}
				}
			}
			additive_modifier = {
				value = 30
				FROMFROM = { 
					show_scope_change = no
					intrigue = 16				
					hidden_trigger = {
						NOT = { intrigue = 20 }
					}
				}
			}
			additive_modifier = {
				value = 40
				FROMFROM = { 
					show_scope_change = no
					intrigue = 20
				}
			}
			additive_modifier = {
				value = 10
				FROMFROM = { 
					show_scope_change = no
					learning = 8					
					hidden_trigger = {
						NOT = { learning = 12 }
					}
				}
			}
			additive_modifier = {
				value = 20
				FROMFROM = { 
					show_scope_change = no
					learning = 12					
					hidden_trigger = {
						NOT = { learning = 16 }
					}
				}
			}
			additive_modifier = {
				value = 30
				FROMFROM = { 
					show_scope_change = no
					learning = 16				
					hidden_trigger = {
						NOT = { learning = 20 }
					}
				}
			}
			additive_modifier = {
				value = 40
				FROMFROM = { 
					show_scope_change = no
					learning = 20
				}
			}
			additive_modifier = {
				value = 10
				FROMFROM = { 
					show_scope_change = no
					trait = fair
				}
			}
			additive_modifier = {
				value = 10
				FROMFROM = { 
					show_scope_change = no
					trait = genius
				}
			}
			additive_modifier = {
				value = 10
				FROMFROM = { 
					show_scope_change = no
					trait = quick
				}
			}
			additive_modifier = {
				value = 10
				FROMFROM = { 
					show_scope_change = no
					trait = strong
				}
			}
			additive_modifier = {
				value = 10
				FROMFROM = {
					show_scope_change = no
					trait = robust
				}
			}
			additive_modifier = {
				value = 10
				FROMFROM = {
					show_scope_change = no
					trait = shrewd
				}
			}
			additive_modifier = {
				value = 10
				FROMFROM = { 
					show_scope_change = no
					trait = architect
				}
			}
			additive_modifier = {
				value = 10
				FROMFROM = { 
					show_scope_change = no
					trait = administrator
				}
			}
			additive_modifier = {
				value = 10
				FROMFROM = { 
					show_scope_change = no
					trait = strategist
				}
			}
			additive_modifier = {
				value = 10
				FROMFROM = { 
					show_scope_change = no
					trait = scholar
				}
			}
			additive_modifier = {
				value = 10
				FROMFROM = { 
					show_scope_change = no
					trait = faqih
				}
			}
			additive_modifier = {
				value = 10
				custom_tooltip = {
					text = tribute_interaction_level3_education_tt
					FROMFROM = { 
						OR = {
							trait = intricate_webweaver
							trait = charismatic_negotiator
							trait = fortune_builder
							trait = skilled_tactician
							trait = scholarly_theologian
						}
					}
				}
			}
			additive_modifier = {
				value = 20
				custom_tooltip = {
					text = tribute_interaction_level4_education_tt
					FROMFROM = { 
						OR = {
							trait = elusive_shadow
							trait = grey_eminence
							trait = midas_touched
							trait = brilliant_strategist
							trait = mastermind_theologian
						}
					}
				}
			}
			additive_modifier = {
				value = 20
				is_adult = no
			}
			modifier = {
				factor = 2.0
				FROMFROM = { 
					show_scope_change = no
					liked_by_offmap = {
						type = offmap_china
						context = eunuch
					}
				}
			}
			modifier = {
				factor = 0.5
				FROMFROM = {
					show_scope_change = no 
					disliked_by_offmap = {
						type = offmap_china
						context = eunuch
					}
				}
			}
			modifier = {
				factor = 1.5
				FROM = { 
					show_scope_change = no
					liked_by_offmap = {
						type = offmap_china
						context = eunuch
					}
				}
			}
			modifier = {
				factor = 0.66
				FROM = {
					show_scope_change = no 
					disliked_by_offmap = {
						type = offmap_china
						context = eunuch
					}
				}
			}
		}
    
		effect = {
			save_event_target_as = target_governor
			FROM = {
				save_event_target_as = target_tribute_sender
			}
			FROMFROM = {
				save_event_target_as = person_sent_as_tribute
			}
			#if = {
			#	limit = {
			#		FROMFROM = { disliked_by_offmap = offmap_china }
			#	}
			#	custom_tooltip = { text = notification_china_dislike_tt }
			#}
			#if = {
			#	limit = {
			#		NOT = { FROMFROM = { disliked_by_offmap = offmap_china } }
			#		FROMFROM = { liked_by_offmap = offmap_china }
			#	}
			#	custom_tooltip = { text = notification_china_like_tt }
			#}
			FROM = {
				show_scope_change = no
				add_offmap_currency = {
					offmap = offmap_china
					value = local_third_party_score
				}
				hidden_effect = {
					if = {
						limit = {
							ai = no
						}
						set_character_flag = achievement_snipped_off_to_china
					}
				}
			}
			
			# Like/Dislike effect description
			#################################
			if = {
				limit = {
					OR = {
						FROM = {
							liked_by_offmap = {
								type = offmap_china
								context = eunuch
							}
						}
						FROMFROM = {
							liked_by_offmap = {
								type = offmap_china
								context = eunuch
							}
						}
					}
					NOR = {
						FROM = {
							disliked_by_offmap = {
								type = offmap_china
								context = eunuch
							}
						}
						FROMFROM = {
							disliked_by_offmap = {
								type = offmap_china
								context = eunuch
							}
						}
					}
				}
				e_china_west_governor = {
					offmap_power = {
						show_scope_change = no
						custom_tooltip = { text = likes_tt }
					}
				}
			}
			
			if = {
				limit = {
					OR = {
						FROM = {
							disliked_by_offmap = {
								type = offmap_china
								context = eunuch
							}
						}
						FROMFROM = {
							disliked_by_offmap = {
								type = offmap_china
								context = eunuch
							}
						}
					}
					NOR = {
						FROM = {
							liked_by_offmap = {
								type = offmap_china
								context = eunuch
							}
						}
						FROMFROM = {
							liked_by_offmap = {
								type = offmap_china
								context = eunuch
							}
						}
					}
				}
				e_china_west_governor = {
					offmap_power = {
						show_scope_change = no
						custom_tooltip = { text = dislikes_tt }
					}
				}
			}
			if = {
				limit = {
					OR = {
						FROM = {
							liked_by_offmap = {
								type = offmap_china
								context = eunuch
							}
						}
						FROMFROM = {
							liked_by_offmap = {
								type = offmap_china
								context = eunuch
							}
						}
					}
					OR = {
						FROM = {
							disliked_by_offmap = {
								type = offmap_china
								context = eunuch
							}
						}
						FROMFROM = {
							disliked_by_offmap = {
								type = offmap_china
								context = eunuch
							}
						}
					}
				}
				e_china_west_governor = {
					offmap_power = {
						show_scope_change = no
						custom_tooltip = { text = likes_but_dislikes_tt }
					}
				}
			}
			#################################
			
			FROMFROM = {
				show_scope_change = no
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								trait = eunuch
							}
						}
						add_trait = eunuch
					}
				}
				leave_court_for_china_effect = yes
			}
			hidden_effect = {
				FROM = {
					add_character_modifier = {
						modifier = chinese_grace_send_eunuch_timer
						hidden = yes
						years = 10
					
					}
					if = {
						limit = { local_third_party_score_low_trigger = yes }
						set_character_flag = sent_bad_tribute
					}
					if = {
						limit = { local_third_party_score_medium_trigger = yes }
						set_character_flag = sent_decent_tribute
					}
					if = {
						limit = { local_third_party_score_great_trigger = yes }
						set_character_flag = sent_great_tribute
					}
					set_character_flag = sent_eunuch_tribute
					letter_event = { id = JD.10050 days = 5 random = 2 }
				}
			}
		}
    
		revoke_allowed = {
			always = no
		}
    
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.3 # slow down
			}
			modifier = {
				factor = 0
				always = yes  # TODO_CD 
				# Replace with a trigger to figure out if FROMFROM is a desirable tribute
			}
		}
	}
	
	chinese_grace_offer_concubine = {
		only_playable = yes
        give_decision = yes
		
		third_party_filter = home_court
		ai_third_party_filter = home_court
		third_party = FROM
		ai_check_interval = 12

		potential = {
			is_offmap_tag = offmap_china
		}
	
		from_potential = {
			has_dlc = "Jade Dragon"
			mercenary = no
			holy_order = no

			OR = {
				ai = no
				prisoner = no
				offmap_china = {
					governor = {
						NOT = { war_with = PREVPREV }
					}
				}
			}
		}

		allow = {
			FROM = {
				show_scope_change = no
				prisoner = no	
				custom_tooltip = {
					text = china_tribute_send_concubine_cooldown_tt
					NOT = { has_character_modifier = chinese_grace_send_concubine_timer }
				}
			}
			# china_offmap_decisions_enabled_trigger = yes #leave in please, to be used if the tooltip for china_offmap_tribute_decisions_enabled_trigger changes and we need to reference things uniquely again
			china_offmap_tribute_decisions_enabled_trigger = yes
			custom_tooltip = { #TODO_CD: Move into third party potential once code is in... THIS IS FOR TESTING PURPOSES.
				text = send_concubine_potential_tt
				hidden_tooltip = { #TODO this should ideally be automatic, added this because empty lists are annoying...
					FROM = {
						any_courtier = {
							OR = {
								AND = {
									offmap_china = {
										offmap_ruler = {
											is_female = yes
										}
									}
									is_female = no
								}
								AND = {
									offmap_china = {
										offmap_ruler = {
											is_female = no
										}
									}
									is_female = yes
								}
							}
							is_close_relative = ROOT_FROM
							is_adult = yes
							NOT = { age = 45 }
							
							NOR = {
								has_character_flag = originated_from_chinese_court
								is_landed = yes
								is_betrothed = yes
								is_married = yes
								trait = incapable
								trait = inbred
								trait = imbecile
								trait = celibate
							}
							is_heir = no
						}
					}
				}
			}
			#show_third_party_potential_filter = yes TODO_CD: remove once we have proper support for this :)
		}
		
		third_party_potential = {
			OR = {
				AND = {
					offmap_china = {
						offmap_ruler = {
							is_female = yes
						}
					}
					FROMFROM = {
						is_female = no
					}
				}
				AND = {
					offmap_china = {
						offmap_ruler = {
							is_female = no
						}
					}
					FROMFROM = {
						is_female = yes
					}
				}
			}
			FROMFROM = {
				is_close_relative = ROOT_FROM
				is_adult = yes
				NOT = { age = 45 }
				
				NOR = {
					has_character_flag = originated_from_chinese_court
					is_landed = yes
					is_betrothed = yes
					is_married = yes
					trait = incapable
					trait = inbred
					trait = imbecile
					trait = celibate
				}
				is_heir = no
			}
		}
		
		third_party_allow = {
			FROMFROM = {
				is_ill = no
				NOT = { trait = wounded }
				NOT = { is_inaccessible_trigger = yes }
			}
		}
		
		third_party_score = {
			factor = 50
			
			additive_modifier = {
				value = 10
				FROMFROM = { 
					show_scope_change = no
					diplomacy = 8					
					hidden_trigger = {
						NOT = { diplomacy = 12 }
					}
				}
			}
			additive_modifier = {
				value = 20
				FROMFROM = { 
					show_scope_change = no
					diplomacy = 12					
					hidden_trigger = {
						NOT = { diplomacy = 16 }
					}
				}
			}
			additive_modifier = {
				value = 30
				FROMFROM = { 
					show_scope_change = no
					diplomacy = 16				
					hidden_trigger = {
						NOT = { diplomacy = 20 }
					}
				}
			}
			additive_modifier = {
				value = 40
				FROMFROM = { 
					show_scope_change = no
					diplomacy = 20
				}
			}
			additive_modifier = {
				value = 10
				FROMFROM = { 
					show_scope_change = no
					martial = 8					
					hidden_trigger = {
						NOT = { martial = 12 }
					}
				}
			}
			additive_modifier = {
				value = 20
				FROMFROM = { 
					show_scope_change = no
					martial = 12					
					hidden_trigger = {
						NOT = { martial = 16 }
					}
				}
			}
			additive_modifier = {
				value = 30
				FROMFROM = { 
					show_scope_change = no
					martial = 16				
					hidden_trigger = {
						NOT = { martial = 20 }
					}
				}
			}
			additive_modifier = {
				value = 40
				FROMFROM = { 
					show_scope_change = no
					martial = 20
				}
			}
			additive_modifier = {
				value = 10
				FROMFROM = { 
					show_scope_change = no
					stewardship = 8					
					hidden_trigger = {
						NOT = { stewardship = 12 }
					}
				}
			}
			additive_modifier = {
				value = 20
				FROMFROM = { 
					show_scope_change = no
					stewardship = 12					
					hidden_trigger = {
						NOT = { stewardship = 16 }
					}
				}
			}
			additive_modifier = {
				value = 30
				FROMFROM = { 
					show_scope_change = no
					stewardship = 16				
					hidden_trigger = {
						NOT = { stewardship = 20 }
					}
				}
			}
			additive_modifier = {
				value = 40
				FROMFROM = { 
					show_scope_change = no
					stewardship = 20
				}
			}
			additive_modifier = {
				value = 10
				FROMFROM = { 
					show_scope_change = no
					intrigue = 8					
					hidden_trigger = {
						NOT = { intrigue = 12 }
					}
				}
			}
			additive_modifier = {
				value = 20
				FROMFROM = { 
					show_scope_change = no
					intrigue = 12					
					hidden_trigger = {
						NOT = { intrigue = 16 }
					}
				}
			}
			additive_modifier = {
				value = 30
				FROMFROM = { 
					show_scope_change = no
					intrigue = 16				
					hidden_trigger = {
						NOT = { intrigue = 20 }
					}
				}
			}
			additive_modifier = {
				value = 40
				FROMFROM = { 
					show_scope_change = no
					intrigue = 20
				}
			}
			additive_modifier = {
				value = 10
				FROMFROM = { 
					show_scope_change = no
					learning = 8					
					hidden_trigger = {
						NOT = { learning = 12 }
					}
				}
			}
			additive_modifier = {
				value = 20
				FROMFROM = { 
					show_scope_change = no
					learning = 12					
					hidden_trigger = {
						NOT = { learning = 16 }
					}
				}
			}
			additive_modifier = {
				value = 30
				FROMFROM = { 
					show_scope_change = no
					learning = 16				
					hidden_trigger = {
						NOT = { learning = 20 }
					}
				}
			}
			additive_modifier = {
				value = 40
				FROMFROM = { 
					show_scope_change = no
					learning = 20
				}
			}
			additive_modifier = {
				value = 40
				FROMFROM = { 
					show_scope_change = no
					trait = fair
				}
			}
			additive_modifier = {
				value = 10
				FROMFROM = { 
					show_scope_change = no
					trait = genius
				}
			}
			additive_modifier = {
				value = 10
				FROMFROM = { 
					show_scope_change = no
					trait = quick
				}
			}
			additive_modifier = {
				value = 20
				FROMFROM = { 
					show_scope_change = no
					trait = strong
				}
			}
			additive_modifier = {
				value = 15
				FROMFROM = {
					show_scope_change = no
					trait = robust
				}
			}
			additive_modifier = {
				value = 15
				FROMFROM = {
					show_scope_change = no
					trait = shrewd
				}
			}
			additive_modifier = {
				value = 10
				FROMFROM = {
					show_scope_change = no
					trait = charitable
				}
			}
			additive_modifier = {
				value = 10
				FROMFROM = {
					show_scope_change = no
					trait = gregarious
				}
			}
			additive_modifier = {
				value = 10
				FROMFROM = {
					show_scope_change = no
					trait = kind
				}
			}
			additive_modifier = {
				value = 10
				custom_tooltip = {
					text = tribute_interaction_level3_education_tt
					FROMFROM = { 
						OR = {
							trait = intricate_webweaver
							trait = charismatic_negotiator
							trait = fortune_builder
							trait = skilled_tactician
							trait = scholarly_theologian
						}
					}
				}
			}
			additive_modifier = {
				value = 20
				custom_tooltip = {
					text = tribute_interaction_level4_education_tt
					FROMFROM = { 
						OR = {
							trait = elusive_shadow
							trait = grey_eminence
							trait = midas_touched
							trait = brilliant_strategist
							trait = mastermind_theologian
						}
					}
				}
			}
			modifier = {
				factor = 2.0
				FROMFROM = { 
					show_scope_change = no
					liked_by_offmap = {
						type = offmap_china
						context = concubine
					}
				}
			}
			modifier = {
				factor = 0.5
				FROMFROM = {
					show_scope_change = no 
					disliked_by_offmap = {
						type = offmap_china
						context = concubine
					}
				}
			}
			modifier = {
				factor = 1.5
				FROM = { 
					show_scope_change = no
					liked_by_offmap = {
						type = offmap_china
						context = concubine
					}
				}
			}
			modifier = {
				factor = 0.66
				FROM = {
					show_scope_change = no 
					disliked_by_offmap = {
						type = offmap_china
						context = concubine
					}
				}
			}
		}
    
		effect = {
			save_event_target_as = target_governor
			FROM = {
				save_event_target_as = target_tribute_sender
			}
			FROMFROM = {
				save_event_target_as = person_sent_as_tribute
			}
			#if = {
			#	limit = {
			#		FROMFROM = { disliked_by_offmap = offmap_china }
			#	}
			#	custom_tooltip = { text = notification_china_dislike_tt }
			#}
			#if = {
			#	limit = {
			#		NOT = { FROMFROM = { disliked_by_offmap = offmap_china } }
			#		FROMFROM = { liked_by_offmap = offmap_china }
			#	}
			#	custom_tooltip = { text = notification_china_like_tt }
			#}
			
			FROM = {
				show_scope_change = no
				add_offmap_currency = {
					offmap = offmap_china
					value = local_third_party_score
				}
			}
			
			# Like/Dislike effect description
			#################################
			if = {
				limit = {
					OR = {
						FROM = {
							liked_by_offmap = {
								type = offmap_china
								context = concubine
							}
						}
						FROMFROM = {
							liked_by_offmap = {
								type = offmap_china
								context = concubine
							}
						}
					}
					NOR = {
						FROM = {
							disliked_by_offmap = {
								type = offmap_china
								context = concubine
							}
						}
						FROMFROM = {
							disliked_by_offmap = {
								type = offmap_china
								context = concubine
							}
						}
					}
				}
				e_china_west_governor = {
					offmap_power = {
						show_scope_change = no
						custom_tooltip = { text = likes_tt }
					}
				}
			}
			
			if = {
				limit = {
					OR = {
						FROM = {
							disliked_by_offmap = {
								type = offmap_china
								context = concubine
							}
						}
						FROMFROM = {
							disliked_by_offmap = {
								type = offmap_china
								context = concubine
							}
						}
					}
					NOR = {
						FROM = {
							liked_by_offmap = {
								type = offmap_china
								context = concubine
							}
						}
						FROMFROM = {
							liked_by_offmap = {
								type = offmap_china
								context = concubine
							}
						}
					}
				}
				e_china_west_governor = {
					offmap_power = {
						show_scope_change = no
						custom_tooltip = { text = dislikes_tt }
					}
				}
			}
			if = {
				limit = {
					OR = {
						FROM = {
							liked_by_offmap = {
								type = offmap_china
								context = concubine
							}
						}
						FROMFROM = {
							liked_by_offmap = {
								type = offmap_china
								context = concubine
							}
						}
					}
					OR = {
						FROM = {
							disliked_by_offmap = {
								type = offmap_china
								context = concubine
							}
						}
						FROMFROM = {
							disliked_by_offmap = {
								type = offmap_china
								context = concubine
							}
						}
					}
				}
				e_china_west_governor = {
					offmap_power = {
						show_scope_change = no
						custom_tooltip = { text = likes_but_dislikes_tt }
					}
				}
			}
			#################################
			
			
			FROMFROM = {
				show_scope_change = no
				leave_court_for_china_effect = yes
			}
			hidden_effect = {
				FROM = {
					add_character_modifier = {
						modifier = chinese_grace_send_concubine_timer
						hidden = yes
						years = 10
					
					}
					if = {
						limit = { local_third_party_score_low_trigger = yes }
						set_character_flag = sent_bad_tribute
					}
					if = {
						limit = { local_third_party_score_medium_trigger = yes }
						set_character_flag = sent_decent_tribute
					}
					if = {
						limit = { local_third_party_score_great_trigger = yes }
						set_character_flag = sent_great_tribute
					}
					set_character_flag = sent_concubine_tribute
					letter_event = { id = JD.10050 days = 5 random = 2 }
				}
			}
		}
    
		revoke_allowed = {
			always = no
		}
    
		ai_will_do = {
			factor = 0 # TODO_CD
			modifier = {
				factor = 0.1 # slow down
			}
		}
	}
	
	chinese_grace_offer_artifact = {
		only_playable = yes
        give_decision = yes
		
		third_party_filter = artifacts
		ai_third_party_filter = artifacts
		third_party = FROM
		ai_check_interval = 12

		potential = {
			is_offmap_tag = offmap_china
		}
	
		from_potential = {
			has_dlc = "Jade Dragon"
			mercenary = no
			holy_order = no
			
			OR = {
				ai = no
				prisoner = no	
				offmap_china = {
					governor = {
						NOT = { war_with = PREVPREV }
					}
					NOT = { has_policy = china_isolationist }
				}
			}
		}

		allow = {
			FROM = {
				show_scope_change = no
				prisoner = no	
				custom_tooltip = {
					text = china_tribute_send_artifact_cooldown_tt
					NOT = { has_character_modifier = chinese_grace_send_artifact_timer }
				}
			}
			# china_offmap_decisions_enabled_trigger = yes #leave in please, to be used if the tooltip for china_offmap_tribute_decisions_enabled_trigger changes and we need to reference things uniquely again
			china_offmap_tribute_decisions_enabled_trigger = yes
			custom_tooltip = {
				text = send_artifact_potential_tt
				hidden_tooltip = {
					FROM = {
						any_artifact = {
							quality > 2
							NOR = {
								has_artifact_flag = curse
								has_artifact_flag = chinese
							}
						}
					}
				}
			}
		}
		
		third_party_potential = {
			FROMFROM = {
				quality > 2
				NOR = {
					has_artifact_flag = curse
					has_artifact_flag = chinese
				}
			}
		}
		
		third_party_allow = {
			
		}
		
		third_party_score = {
			factor = 500
			
			additive_modifier = {
				value = 4500
				FROMFROM = { 
					quality == 4
				}
			}
			additive_modifier = {
				value = 9500
				FROMFROM = { 
					quality == 5
				}
			}
		}
    
		effect = {
			hidden_tooltip = {
				if = {
					limit = {
						FROM = {
							ai = no
						}
						FROMFROM = {
							quality > 3
						}
					}
					FROM = {
						set_character_flag = achievement_a_curious_trinket
					}
				}
			}
			save_event_target_as = target_governor
			FROM = {
				save_event_target_as = target_tribute_sender
			}
			FROM = {
				add_offmap_currency = {
					offmap = offmap_china
					value = local_third_party_score
				}
			}

			offmap_china = {
				offmap_ruler = {
					ROOT_FROMFROM = {
						show_scope_change = no
						tooltip = {
							transfer_artifact = {
								to = PREV
								from = ROOT_FROM
							}
						}
						hidden_effect = { destroy_artifact = yes }
					}
				}
			}

			hidden_effect = {
				FROM = {
					add_character_modifier = {
						modifier = chinese_grace_send_artifact_timer
						hidden = yes
						years = 10
					
					}
					set_character_flag = jd_gifting_artifact
				}
				hidden_effect = { offmap_china = { governor = { character_event = { id = JD.20023 } } } }
			}
		}
    
		revoke_allowed = {
			always = no
		}
    
		ai_will_do = {
			factor = 0
		}
	}
}



#REQUESTING BOON DECISIONS (PENDING GRACE)
offmap_decisions = { 

	#Get a peace deal
	chinese_grace_peace_deal = {
		only_playable = yes
		ai_check_interval = 12
	
		from_potential = {
			has_dlc = "Jade Dragon"
			prisoner = no
			mercenary = no
			holy_order = no
		}

		potential = {
			is_offmap_tag = offmap_china
		}

#		potential = {
#			offmap_china = { governor = { character = ROOT } }
#		}

		allow = {
			FROM = {
				show_scope_change = no
				has_offmap_currency = { offmap = offmap_china value = 500 }
				custom_tooltip = {
					text = chinese_grace_peace_deal_allow_tt
					NOT = { has_non_aggression_pact_with = ROOT }
				}
			}
			china_offmap_boon_decisions_enabled_trigger = yes
		}

		effect = {
			FROM = {
				show_scope_change = no
				add_offmap_currency = {
					offmap = offmap_china
					value = -500
				}
			}
			custom_tooltip = { text = chinese_grace_peace_deal_effect_tt }
			hidden_effect = { offmap_china = { governor = { character_event = { id = JD.20025 } } } }
			hidden_effect = { FROM = { set_china_boon_cd_effect = yes } }
		}

		revoke_allowed = {
			always = no
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1 # slow down
			}
			modifier = { realm_levy_diff = { who = FROM value = 2000 } factor = 1.5 }
			modifier = { realm_levy_diff = { who = FROM value = 5000 } factor = 3 }
			modifier = {
				FROM = {
					NOT = { has_grace_major_trigger = yes }
				}
				factor = 0.1
			}
		}
	}
	
	#Get a Chinese doctor
	chinese_grace_doctor = {
		only_playable = yes
		ai_check_interval = 12

		from_potential = {
			has_dlc = "Jade Dragon"
			has_dlc = Reapers
			prisoner = no
			mercenary = no
			holy_order = no
		}

		potential = {
			is_offmap_tag = offmap_china
		}

#		potential = {
#			offmap_china = { governor = { character = ROOT } }
#		}

		allow = {
			FROM = {
				show_scope_change = no
				has_offmap_currency = { offmap = offmap_china value = 300 }
				custom_tooltip = {
					text = chinese_grace_doctor_allow_tt
					NOT = { any_courtier = { has_minor_title = title_court_physician } }
				}
			}
			china_offmap_boon_decisions_enabled_trigger = yes
		}

		effect = {
			FROM = {
				show_scope_change = no
				add_offmap_currency = {
					offmap = offmap_china
					value = -300
				}
			}
			hidden_effect = { offmap_china = { governor = { character_event = { id = JD.20021 } } } }
			hidden_effect = { FROM = { set_china_boon_cd_effect = yes } }
		}

		revoke_allowed = {
			always = no
		}

		ai_will_do = {
			factor = 0
			#factor = 1
			#modifier = {
			#	factor = 0.1 # slow down
			#}
			#modifier = {
			#	FROM = { NOT = { any_courtier = { learning = 15 } } }
			#	factor = 1.5
			#}
			#modifier = {
			#	FROM = {
			#		NOT = { any_courtier = { learning = 15 } }
			#		OR = {
			#			NOT = { health = 3 }
			#			character_disease_trigger = yes
			#			has_symptom_trigger = yes
			#		}
			#	}
			#	factor = 10
			#}
			#modifier = {
			#	FROM = {
			#		NOT = { has_grace_medium_trigger = yes }
			#	}
			#	factor = 0.1
			#}
		}
	}

	#Request master engineer
	chinese_administrator = {
		only_playable = yes
		ai_check_interval = 6

		from_potential = {
			has_dlc = "Jade Dragon"
			prisoner = no
			mercenary = no
			holy_order = no
		}

		potential = {
			is_offmap_tag = offmap_china
		}

		allow = {
			FROM = {
				show_scope_change = no
				has_offmap_currency = { offmap = offmap_china value = 500 }
				custom_tooltip = {
					text = chinese_administrator_allow_tt
					NOT = { any_courtier = { has_minor_title = title_administrator } }
				}
			}
			china_offmap_boon_decisions_enabled_trigger = yes
		}

		effect = {
			FROM = {
				show_scope_change = no
				add_offmap_currency = {
					offmap = offmap_china
					value = -500
				}
				custom_tooltip = { text = chinese_administrator_effect_tt }
				if = {
					limit = { offmap_china = { has_status = china_golden_age } }
					tooltip = {
						add_character_modifier = {
							name = employing_jd_administrator_golden_age
							duration = -1
						}
					}
				}
				else = {
					tooltip = {
						add_character_modifier = {
							name = employing_jd_administrator
							duration = -1
						}
					}
				}
			}
			hidden_effect = { offmap_china = { governor = { character_event = { id = JD.20029 } } } }
			hidden_effect = { FROM = { set_china_boon_cd_effect = yes } }
		}

		revoke_allowed = {
			always = no
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.5 # slow down
			}
			modifier = {
				FROM = {
					NOT = { has_grace_major_trigger = yes }
				}
				factor = 0.1
			}
			modifier = {
				factor = 0
				FROM = {
					OR = {
						is_tribal = yes
						is_nomadic = yes
					}
				}
			}
		}
	}

	#Strategist
	chinese_strategist = {
		only_playable = yes
		ai_check_interval = 12

		from_potential = {
			has_dlc = "Jade Dragon"
			prisoner = no
			mercenary = no
			holy_order = no
		}

		potential = {
			is_offmap_tag = offmap_china
		}
	
		allow = {
			FROM = {
				show_scope_change = no
				has_offmap_currency = { offmap = offmap_china value = 400 }
			}
			china_offmap_boon_decisions_enabled_trigger = yes
		}

		effect = {
			FROM = {
				show_scope_change = no

				add_offmap_currency = {
					offmap = offmap_china
					value = -400
				}
				custom_tooltip = { text = chinese_strategist_effect_tt }
			}
			hidden_effect = { offmap_china = { governor = { character_event = { id = JD.20039 } } } }
			hidden_effect = { FROM = { set_china_boon_cd_effect = yes } }
		}

		revoke_allowed = {
			always = no
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1 # slow down
			}
			modifier = {
				FROM = {
					NOT = { has_grace_major_trigger = yes }
				}
				factor = 0.1
			}
			modifier = {	
				factor = 0
				FROM = {
					is_nomadic = yes
				}
			}
		}
	}

	chinese_master_engineer = {
		only_playable = yes
		ai_check_interval = 12

		from_potential = {
			has_dlc = "Jade Dragon"
			prisoner = no
			mercenary = no
			holy_order = no
		}

		potential = {
			is_offmap_tag = offmap_china
		}
	
		allow = {
			FROM = {
				show_scope_change = no
				has_offmap_currency = { offmap = offmap_china value = 500 }
				custom_tooltip = {
					text = chinese_master_engineer_allow_tt
					NOT = { any_courtier = { has_minor_title = title_master_engineer } }
				}
			}
			china_offmap_boon_decisions_enabled_trigger = yes
		}

		effect = {
			FROM = {
				show_scope_change = no

				add_offmap_currency = {
					offmap = offmap_china
					value = -500
				}
				custom_tooltip = { text = chinese_master_engineer_effect_tt }
			}
			hidden_effect = { offmap_china = { governor = { character_event = { id = JD.20031 } } } }
			hidden_effect = { FROM = { set_china_boon_cd_effect = yes } }
		}

		revoke_allowed = {
			always = no
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1 # slow down
			}
			modifier = {
				FROM = {
					NOT = { has_grace_major_trigger = yes }
				}
				factor = 0.1
			}
			modifier = {
				factor = 0
				FROM = {	
					OR = {
						is_nomadic = yes
						is_tribal = yes
					}
				}
			}
		}
	}

	chinese_imperial_marriage = {
		only_playable = yes
		third_party_filter = realm_including_me
        ai_third_party_filter = court
        third_party = from
		ai_check_interval = 12
		
		from_potential = {
			has_dlc = "Jade Dragon"
			prisoner = no
			mercenary = no
			holy_order = no
		}

		potential = {
			is_offmap_tag = offmap_china
		}

		allow = {
			FROM = {
				show_scope_change = no
				has_offmap_currency = { offmap = offmap_china value = 1000 }
				OR = {
					custom_tooltip = {
						text = can_marry_chinese_royal_tt
						AND = {
							is_adult = yes
							is_married = no
						}
					}
					custom_tooltip = {
						text = has_courtier_eligible_for_marriage_tt
						OR = {
							any_dynasty_member = {
								is_adult = yes
								is_married = no
								liege = { character = ROOT_FROM }
							}
							any_close_relative = {
								is_adult = yes
								is_married = no
								liege = { character = ROOT_FROM }
								NOT = { any_spouse = { character = ROOT_FROM } } #turns out without this, it includes your spouse
							}
						}
					}
				}
			}
			china_offmap_boon_decisions_enabled_trigger = yes
		}

		third_party_potential = {
			FROMFROM = {
				OR = {
					dynasty = ROOT_FROM
					is_close_relative = ROOT_FROM
				}
				OR = {
					character = ROOT_FROM
					AND = {
						liege = { character = ROOT_FROM }
						ai = yes
					}
				}
				NOT = { any_spouse = { character = ROOT_FROM } } 
				is_adult = yes
				is_betrothed = no
			}
		}

		third_party_allow = {
			FROMFROM = {
				custom_tooltip = {
					text = can_marry_chinese_royal_tt
					can_marry = yes
					is_married = no
				}
			}
		}

		effect = {
			FROM = {
				show_scope_change = no
				add_offmap_currency = {
					offmap = offmap_china
					value = -1000
				}
			}
			if = { 
				limit = { FROMFROM = { is_female = yes } } 
				custom_tooltip = { text = chinese_imperial_marriage_prince_effect_tt }
			}
			if = { 
				limit = { FROMFROM = { is_female = no } } 
				custom_tooltip = { text = chinese_imperial_marriage_princess_effect_tt }
			}
			hidden_effect = { FROMFROM = { add_trait = cannot_marry } }
			hidden_effect = { offmap_china = { governor = { character_event = { id = JD.20045 } } } }
			hidden_effect = { FROM = { set_china_boon_cd_effect = yes } }
			FROM = {
				if = {
					limit = {
						ai = no
					}
					hidden_effect = { set_character_flag = achievement_imperial_marriage }
				}
			}
		}

		revoke_allowed = {
			always = no
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1 # slow down
			}
		}
	}

	chinese_silk_road_favored_status = {
		only_playable = yes
		ai_check_interval = 12
		
		potential = {
			is_offmap_tag = offmap_china
		}

		from_potential = {
			has_dlc = "Jade Dragon"
			prisoner = no
			mercenary = no
			holy_order = no
		}

		allow = {
			FROM = {
				show_scope_change = no
				has_offmap_currency = { offmap = offmap_china value = 750 }
				NOT = { has_character_modifier = chinese_imperial_trade_contract }
			}
			china_offmap_boon_decisions_enabled_trigger = yes
		}

		effect = {
			FROM = {
				show_scope_change = no
				add_offmap_currency = {
					offmap = offmap_china
					value = -1500
				}
				hidden_effect = {
					add_character_modifier = {
						modifier = chinese_imperial_trade_contract
						inherit = yes
						years = 25
					}
					character_event = { id = JD.30014 }
				}
			}
			custom_tooltip = {
				text = chinese_silk_road_favored_status_modifier_tt
			}
			hidden_effect = { FROM = { set_china_boon_cd_effect = yes } }
		}

		revoke_allowed = {
			always = no
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1 # slow down
			}
		}
	}

	#Request invasion here todo


}